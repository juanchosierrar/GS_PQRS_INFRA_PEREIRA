(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63059,e=>{"use strict";let s=(0,e.i(75254).default)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>s],63059)},81418,e=>{"use strict";let s=(0,e.i(75254).default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["ShieldCheck",()=>s],81418)},21218,e=>{"use strict";let s=(0,e.i(75254).default)("activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);e.s(["Activity",()=>s],21218)},43432,e=>{"use strict";let s=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);e.s(["Phone",()=>s],43432)},56909,e=>{"use strict";let s=(0,e.i(75254).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>s],56909)},31278,e=>{"use strict";let s=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],31278)},63488,e=>{"use strict";let s=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>s],63488)},95740,e=>{"use strict";let s=(0,e.i(75254).default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);e.s(["UserCircle",()=>s],95740)},79002,e=>{"use strict";let s=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>s],79002)},11481,e=>{"use strict";var s=e.i(43476),a=e.i(71645),t=e.i(66027),r=e.i(12598),i=e.i(54616),n=e.i(49002),l=e.i(82526),c=e.i(98257),d=e.i(3707),o=e.i(61911),x=e.i(7486),p=e.i(31278),m=e.i(60289),h=e.i(63059),u=e.i(79002),b=e.i(81418),g=e.i(75254);let f=(0,g.default)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]),N=(0,g.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),j=(0,g.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var v=e.i(18566),y=e.i(75157),w=e.i(37727),k=e.i(63488),z=e.i(43432),C=e.i(56909),E=e.i(95740),A=e.i(21218);function D({onClose:e,onSuccess:t,lockedRole:r,currentUser:i,editUser:n}){let c=i?.rol==="ADMIN_GENERAL",[o,m]=(0,a.useState)(!1),h=!!n,[b,g]=(0,a.useState)({nombre:n?.nombre||"",email:n?.email||"",whatsapp:n?.whatsapp||"",cargo:n?.cargo||"",dependenciaId:n?.dependenciaId||(i?.rol==="DIRECTOR_DEPENDENCIA"?i.dependenciaId:""),rol:n?.rol||r||"TECNICO"});(0,a.useEffect)(()=>{n&&g({nombre:n.nombre||"",email:n.email||"",whatsapp:n.whatsapp||"",cargo:n.cargo||"",dependenciaId:n.dependenciaId||"",rol:n.rol||"TECNICO"})},[n]);let j=async e=>{e.preventDefault(),m(!0);try{h?await l.UserService.update(n.id,b):await l.UserService.create(b),t()}catch(e){console.error(e)}finally{m(!1)}},v="DIRECTOR_DEPENDENCIA"===b.rol;return(0,s.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 animate-in fade-in duration-300",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-zinc-900/60 backdrop-blur-sm",onClick:e}),(0,s.jsxs)("div",{className:"bg-white rounded-[2.5rem] w-full max-w-lg relative z-10 shadow-2xl overflow-hidden animate-in zoom-in-95 duration-300",children:[(0,s.jsxs)("div",{className:"p-8 border-b border-zinc-100 flex justify-between items-center bg-zinc-50/50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:(0,y.cn)("h-12 w-12 rounded-2xl flex items-center justify-center",v?"bg-amber-100":"bg-primary/10"),children:h?(0,s.jsx)(N,{className:(0,y.cn)("h-6 w-6",v?"text-amber-600":"text-primary")}):(0,s.jsx)(u.UserPlus,{className:(0,y.cn)("h-6 w-6",v?"text-amber-600":"text-primary")})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xl font-black uppercase tracking-tighter italic",children:h?`Editar ${v?"Coordinador":"Técnico"}`:r?`Nuevo ${v?"Coordinador":"Técnico"}`:"Nuevo Registro"}),(0,s.jsx)("p",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:v?"Registrar Liderazgo de Dependencia":"Registrar Personal Operativo"})]})]}),(0,s.jsx)("button",{onClick:e,className:"p-2 hover:bg-zinc-200 rounded-xl transition-colors",children:(0,s.jsx)(w.X,{className:"h-5 w-5 text-zinc-400"})})]}),(0,s.jsxs)("form",{onSubmit:j,className:"p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(E.UserCircle,{className:"h-3 w-3"})," Nombre Completo"]}),(0,s.jsx)("input",{required:!0,type:"text",value:b.nombre,onChange:e=>g({...b,nombre:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border-2 border-zinc-100 focus:border-primary focus:outline-none font-bold text-sm transition-all",placeholder:"Ej: Roberto Gomez"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(k.Mail,{className:"h-3 w-3"})," Correo Electrónico"]}),(0,s.jsx)("input",{required:!0,type:"email",value:b.email,onChange:e=>g({...b,email:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border-2 border-zinc-100 focus:border-primary focus:outline-none font-bold text-sm transition-all",placeholder:"correo@pereira.gov.co"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(z.Phone,{className:"h-3 w-3"})," WhatsApp"]}),(0,s.jsx)("input",{required:!0,type:"tel",value:b.whatsapp,onChange:e=>g({...b,whatsapp:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border-2 border-zinc-100 focus:border-primary focus:outline-none font-bold text-sm transition-all",placeholder:"300 000 0000"})]})]}),!r&&c&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(A.Activity,{className:"h-3 w-3"})," Tipo de Usuario"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)("button",{type:"button",onClick:()=>g({...b,rol:"TECNICO",cargo:b.cargo||"Técnico de Campo"}),className:(0,y.cn)("py-4 rounded-2xl border-2 font-black text-[10px] uppercase tracking-widest transition-all","TECNICO"===b.rol?"bg-zinc-900 border-zinc-900 text-white shadow-lg":"bg-white border-zinc-100 text-zinc-400 hover:border-zinc-200"),children:"Técnico de Campo"}),(0,s.jsx)("button",{type:"button",onClick:()=>g({...b,rol:"DIRECTOR_DEPENDENCIA",cargo:b.cargo||"Coordinador Responsable"}),className:(0,y.cn)("py-4 rounded-2xl border-2 font-black text-[10px] uppercase tracking-widest transition-all","DIRECTOR_DEPENDENCIA"===b.rol?"bg-amber-500 border-amber-500 text-white shadow-lg":"bg-white border-zinc-100 text-zinc-400 hover:border-zinc-200"),children:"Coordinador"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(f,{className:"h-3 w-3"})," Cargo / Especialidad"]}),(0,s.jsx)("input",{required:!0,type:"text",value:b.cargo,onChange:e=>g({...b,cargo:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border-2 border-zinc-100 focus:border-primary focus:outline-none font-bold text-sm transition-all",placeholder:v?"Ej: Director de Obras":"Ej: Maestro de Obra"})]}),c&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"text-[10px] font-black text-zinc-600 uppercase tracking-widest flex items-center gap-2",children:[(0,s.jsx)(x.Building2,{className:"h-3 w-3"})," Dependencia"]}),(0,s.jsxs)("select",{required:!0,value:b.dependenciaId,onChange:e=>g({...b,dependenciaId:e.target.value}),className:"w-full px-5 py-4 rounded-2xl border-2 border-zinc-100 focus:border-primary focus:outline-none font-bold text-sm appearance-none bg-white",children:[(0,s.jsx)("option",{value:"",children:"Seleccionar Dependencia"}),d.DEPENDENCIAS.map(e=>(0,s.jsx)("option",{value:e.id,children:e.nombre},e.id))]})]})]}),(0,s.jsxs)("button",{type:"submit",disabled:o,className:(0,y.cn)("w-full text-white py-5 rounded-[1.5rem] font-black text-xs uppercase tracking-[0.2em] shadow-xl transition-all flex items-center justify-center gap-3 disabled:opacity-50",v?"bg-amber-600 hover:bg-amber-700 shadow-amber-600/20":"bg-zinc-900 hover:bg-zinc-800"),children:[o?(0,s.jsx)(p.Loader2,{className:"h-5 w-5 animate-spin"}):(0,s.jsx)(C.Save,{className:"h-5 w-5"}),h?"Actualizar":"Guardar"," ",v?"Coordinador":"Técnico"]}),(0,s.jsx)("p",{className:"text-center text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:"Este usuario podrá gestionar PQRS asignados"})]})]})]})}let I=(0,g.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function R({isOpen:e,onClose:a,onConfirm:t,userName:r,userRole:i,hasActivePQRs:n=!1,isDeleting:l=!1}){return e?(0,s.jsx)("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:(0,s.jsxs)("div",{className:"bg-white rounded-[2.5rem] shadow-2xl max-w-md w-full animate-in zoom-in-95 duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-8 pb-6 border-b border-zinc-100",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"bg-rose-100 p-3 rounded-2xl",children:(0,s.jsx)(I,{className:"h-6 w-6 text-rose-600"})}),(0,s.jsx)("h2",{className:"text-2xl font-black text-zinc-900 uppercase italic tracking-tighter",children:"Confirmar Eliminación"})]}),(0,s.jsx)("button",{onClick:a,disabled:l,className:"p-2 hover:bg-zinc-100 rounded-xl transition-colors disabled:opacity-50",children:(0,s.jsx)(w.X,{className:"h-5 w-5 text-zinc-500"})})]}),(0,s.jsxs)("div",{className:"p-8 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsx)("p",{className:"text-sm font-bold text-zinc-600",children:"¿Estás seguro de que deseas eliminar a:"}),(0,s.jsxs)("div",{className:"bg-zinc-50 rounded-2xl p-4 border-2 border-zinc-100",children:[(0,s.jsx)("p",{className:"text-lg font-black text-zinc-900",children:r}),(0,s.jsx)("p",{className:"text-xs font-bold text-zinc-500 uppercase tracking-wider mt-1",children:i})]})]}),n&&(0,s.jsxs)("div",{className:"bg-amber-50 border-2 border-amber-200 rounded-2xl p-4 flex items-start gap-3",children:[(0,s.jsx)(I,{className:"h-5 w-5 text-amber-600 flex-shrink-0 mt-0.5"}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-xs font-black text-amber-900 uppercase tracking-wide",children:"Advertencia"}),(0,s.jsx)("p",{className:"text-sm font-semibold text-amber-800",children:"Este usuario tiene PQRs activos asignados. Se recomienda reasignarlos antes de eliminar."})]})]}),(0,s.jsx)("p",{className:"text-sm font-semibold text-zinc-500",children:"Esta acción no se puede deshacer."})]}),(0,s.jsxs)("div",{className:"flex gap-4 p-8 pt-0",children:[(0,s.jsx)("button",{onClick:a,disabled:l,className:"flex-1 px-6 py-4 rounded-2xl border-2 border-zinc-200 font-black text-sm uppercase tracking-wider text-zinc-700 hover:bg-zinc-50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancelar"}),(0,s.jsx)("button",{onClick:t,disabled:l,className:(0,y.cn)("flex-1 px-6 py-4 rounded-2xl font-black text-sm uppercase tracking-wider text-white transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed","bg-rose-600 hover:bg-rose-700 shadow-rose-600/20 hover:scale-[1.02] active:scale-95"),children:l?"Eliminando...":"Eliminar"})]})]})}):null}function S(){let e=(0,v.useRouter)(),g=(0,r.useQueryClient)(),w=(0,v.useSearchParams)(),[k,z]=(0,a.useState)(w.get("tab")||"tecnicos"),C=w.get("dep"),{user:E}=(0,c.useAuthStore)(),[A,I]=(0,a.useState)(E?.rol==="DIRECTOR_DEPENDENCIA"?E.dependenciaId||null:C),[S,T]=(0,a.useState)(!1),[M,P]=(0,a.useState)(null),[O,U]=(0,a.useState)(null),[q,L]=(0,a.useState)([]),_=E?.rol==="ADMIN_GENERAL",G=E?.rol==="DIRECTOR_DEPENDENCIA",H=async()=>{L(await l.UserService.getAll())};(0,a.useEffect)(()=>{H()},[]),(0,a.useEffect)(()=>{C&&"null"!==C&&I(C)},[C]);let{data:Q,isLoading:V}=(0,t.useQuery)({queryKey:["pqrs"],queryFn:()=>n.PQRService.getAll()}),B=(0,a.useMemo)(()=>q.filter(e=>"TECNICO"===e.rol),[q]),F=(0,a.useMemo)(()=>q.filter(e=>"DIRECTOR_DEPENDENCIA"===e.rol),[q]);(0,a.useMemo)(()=>{if(!Q)return null;let e=Q.filter(e=>e.asignadoA&&!["RESUELTA","CERRADA"].includes(e.estado)).length,s=Q.filter(e=>["RESUELTA","CERRADA"].includes(e.estado)).length,a=e+s>0?Math.round(s/(e+s)*100):0;return{active:e,resolved:s,efficiency:a}},[Q]);let K=(0,a.useMemo)(()=>A?d.DEPENDENCIAS.find(e=>e.id===A):null,[A]),$=(0,a.useMemo)(()=>"tecnicos"===k?A?q.filter(e=>e.dependenciaId===A&&"TECNICO"===e.rol):B:A?q.filter(e=>e.dependenciaId===A&&"DIRECTOR_DEPENDENCIA"===e.rol):F,[k,A,q,B,F]),X=(0,i.useMutation)({mutationFn:e=>l.UserService.delete(e),onSuccess:()=>{H(),U(null),g.invalidateQueries({queryKey:["users"]})},onError:e=>{console.error("Error removing user:",e),alert("No se pudo eliminar el usuario. Intente recargar la página."),U(null)}}),W=(e,s)=>{s.stopPropagation(),P(e),T(!0)},J=(e,s)=>{s.stopPropagation(),U(e)},Y=()=>{T(!1),P(null)};return V?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,s.jsx)(p.Loader2,{className:"h-12 w-12 animate-spin text-primary"}),(0,s.jsx)("p",{className:"text-muted-foreground animate-pulse text-sm font-medium uppercase tracking-widest",children:"Cargando Gestión de Personal..."})]}):(0,s.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-6",children:[(0,s.jsx)("button",{onClick:()=>e.push("/admin"),className:"p-4 rounded-2xl border-2 border-zinc-100 bg-white hover:bg-zinc-50 transition-all shadow-sm group",children:(0,s.jsx)(m.LayoutDashboard,{className:"h-5 w-5 text-zinc-400 group-hover:text-primary transition-colors"})}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsxs)("h2",{className:"text-4xl font-black tracking-tighter text-zinc-900 flex items-center gap-4 uppercase italic",children:[(0,s.jsx)(o.Users,{className:"h-10 w-10 text-primary not-italic"}),"Gestión de Personal"]}),(0,s.jsx)("p",{className:"text-muted-foreground font-black text-[10px] tracking-[0.2em] uppercase opacity-70",children:"Control de Talento Humano y Operaciones"})]})]}),(0,s.jsx)("div",{className:"flex items-center gap-4",children:(_||G)&&(0,s.jsxs)("button",{onClick:()=>T(!0),className:(0,y.cn)("text-white px-6 py-4 rounded-2xl font-black text-xs uppercase tracking-widest flex items-center gap-3 transition-all shadow-xl hover:-translate-y-1 active:scale-95","tecnicos"===k?"bg-zinc-900 hover:bg-zinc-800":"bg-amber-600 hover:bg-amber-700 shadow-amber-600/20"),children:[(0,s.jsx)(u.UserPlus,{className:"h-4 w-4"}),"Nuevo ","tecnicos"===k?"Técnico":"Coordinador"]})})]}),(0,s.jsxs)("div",{className:"flex gap-2 bg-zinc-100 p-1.5 rounded-3xl w-fit",children:[(0,s.jsxs)("button",{onClick:()=>z("tecnicos"),className:(0,y.cn)("px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all flex items-center gap-2","tecnicos"===k?"bg-white text-zinc-900 shadow-sm":"text-zinc-500 hover:text-zinc-700"),children:[(0,s.jsx)(f,{className:"h-4 w-4"}),"Personal Técnico"]}),E?.rol==="ADMIN_GENERAL"&&(0,s.jsxs)("button",{onClick:()=>z("coordinadores"),className:(0,y.cn)("px-6 py-3 rounded-2xl font-black text-xs uppercase tracking-widest transition-all flex items-center gap-2","coordinadores"===k?"bg-white text-zinc-900 shadow-sm":"text-zinc-500 hover:text-zinc-700"),children:[(0,s.jsx)(b.ShieldCheck,{className:"h-4 w-4"}),"Coordinadores"]})]}),(0,s.jsxs)("div",{className:"grid lg:grid-cols-4 gap-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xs font-black text-zinc-400 uppercase tracking-[0.2em] px-4 flex items-center gap-2",children:[(0,s.jsx)(x.Building2,{className:"h-3 w-3"}),"Filtrar Áreas"]}),(0,s.jsx)("div",{className:"grid gap-2",children:d.DEPENDENCIAS.map(e=>{if(E?.rol==="DIRECTOR_DEPENDENCIA"&&e.id!==E.dependenciaId)return null;let a=A===e.id,t="tecnicos"===k?B.filter(s=>s.dependenciaId===e.id).length:F.filter(s=>s.dependenciaId===e.id).length;return(0,s.jsxs)("button",{onClick:()=>I(a?null:e.id),className:(0,y.cn)("w-full flex items-center justify-between p-4 rounded-2xl border-2 transition-all group text-left",a?"bg-primary border-primary text-white shadow-lg shadow-primary/20":"bg-white border-zinc-100 text-zinc-600 hover:border-primary/50"),children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 font-black text-[10px] uppercase italic tracking-tighter",children:[(0,s.jsx)("div",{className:(0,y.cn)("h-7 w-7 rounded-lg flex items-center justify-center font-black",a?"bg-white/20":"bg-zinc-50 group-hover:bg-primary/10"),children:e.codigo}),e.nombre]}),(0,s.jsx)("div",{className:(0,y.cn)("text-[9px] font-black px-2 py-0.5 rounded-md",a?"bg-white/20":"bg-zinc-50"),children:t})]},e.id)})})]}),(0,s.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[K&&E?.rol==="ADMIN_GENERAL"&&(0,s.jsxs)("div",{className:"bg-zinc-50 border border-zinc-100 rounded-3xl px-6 py-4 flex items-center justify-between mb-4 animate-in slide-in-from-top duration-300",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-8 w-8 bg-primary/10 rounded-xl flex items-center justify-center",children:(0,s.jsx)(x.Building2,{className:"h-4 w-4 text-primary"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:"Filtrando por:"}),(0,s.jsx)("p",{className:"text-sm font-black text-zinc-900 uppercase italic",children:K.nombre})]})]}),(0,s.jsx)("button",{onClick:()=>I(null),className:"text-[10px] font-black text-zinc-400 hover:text-zinc-600 uppercase tracking-widest border-b border-zinc-200 transition-colors",children:"Limpiar Filtro"})]}),"tecnicos"===k?(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:$.length>0?$.map(a=>{let t=Q?.filter(e=>e.asignadoA===a.id)||[],r=t.filter(e=>["RESUELTA","CERRADA"].includes(e.estado)).length,i=t.length-r,n=t.length>0?Math.round(r/t.length*100):0;return(0,s.jsxs)("div",{onClick:()=>e.push(`/admin/inbox?tecnicoId=${a.id}`),className:"bg-white border-2 border-zinc-100 rounded-3xl p-6 hover:shadow-xl transition-all group flex items-center gap-6 cursor-pointer hover:border-primary/30",children:[(0,s.jsx)("div",{className:(0,y.cn)("h-16 w-16 rounded-2xl flex items-center justify-center text-xl font-black transition-all shadow-inner bg-zinc-50 text-primary group-hover:bg-primary group-hover:text-white"),children:a.nombre.substring(0,2).toUpperCase()}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-black text-zinc-900 group-hover:text-primary transition-colors uppercase italic tracking-tighter truncate max-w-[150px]",children:a.nombre}),(0,s.jsx)("p",{className:"text-[9px] font-black text-zinc-400 uppercase tracking-widest",children:a.cargo})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("button",{onClick:e=>W(a,e),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors group/edit",title:"Editar",children:(0,s.jsx)(N,{className:"h-4 w-4 text-zinc-400 group-hover/edit:text-blue-600"})}),(0,s.jsx)("button",{onClick:e=>J(a,e),className:"p-2 hover:bg-rose-50 rounded-lg transition-colors group/delete",title:"Eliminar",children:(0,s.jsx)(j,{className:"h-4 w-4 text-zinc-400 group-hover/delete:text-rose-600"})}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"text-xl font-black text-zinc-900 leading-none",children:[n,"%"]}),(0,s.jsx)("p",{className:"text-[8px] font-black text-emerald-500 uppercase tracking-tight",children:"Eficacia"})]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4 pt-3 border-t border-zinc-50",children:[(0,s.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,s.jsx)("div",{className:"h-2 w-2 rounded-full bg-amber-400"}),(0,s.jsxs)("span",{className:"text-[10px] font-black text-zinc-600 uppercase",children:[i," Activos"]})]}),(0,s.jsx)("div",{className:"ml-auto text-primary hover:text-primary/70 transition-colors",children:(0,s.jsx)(h.ChevronRight,{className:"h-5 w-5"})})]})]})]},a.id)}):(0,s.jsxs)("div",{className:"md:col-span-2 py-20 text-center space-y-4 bg-zinc-50/50 rounded-[3rem] border-2 border-dashed border-zinc-200",children:[(0,s.jsx)("div",{className:"p-6 bg-white rounded-full w-fit mx-auto shadow-xl",children:(0,s.jsx)(o.Users,{className:"h-10 w-10 text-zinc-300"})}),(0,s.jsx)("p",{className:"text-zinc-400 font-black text-[10px] uppercase tracking-widest",children:"No se encontró personal en esta área"})]})}):(0,s.jsx)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 animate-in slide-in-from-right duration-500",children:$.length>0?$.map(e=>{let a=d.DEPENDENCIAS.find(s=>s.id===e.dependenciaId);return a?(0,s.jsx)("div",{className:"p-8 rounded-[2rem] border-2 bg-white border-zinc-100 hover:border-amber-500/30 hover:shadow-xl transition-all group relative overflow-hidden",children:(0,s.jsxs)("div",{className:"relative z-10 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsx)("div",{className:"h-14 w-14 rounded-2xl bg-amber-50 flex items-center justify-center text-amber-600 transition-colors group-hover:bg-amber-500 group-hover:text-white",children:(0,s.jsx)(b.ShieldCheck,{className:"h-7 w-7"})}),(0,s.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,s.jsx)("button",{onClick:s=>W(e,s),className:"p-2 hover:bg-zinc-100 rounded-lg text-zinc-400 hover:text-blue-600 transition-colors",children:(0,s.jsx)(N,{className:"h-4 w-4"})}),(0,s.jsx)("button",{onClick:s=>J(e,s),className:"p-2 hover:bg-zinc-100 rounded-lg text-zinc-400 hover:text-rose-600 transition-colors",children:(0,s.jsx)(j,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("p",{className:"text-[10px] font-black text-zinc-400 uppercase tracking-widest",children:a.nombre}),(0,s.jsx)("h3",{className:"text-lg font-black text-zinc-900 leading-tight uppercase italic",children:e.nombre}),(0,s.jsx)("p",{className:"text-xs font-medium text-zinc-500",children:e.email})]}),(0,s.jsxs)("div",{className:"pt-6 border-t border-zinc-50 flex items-center justify-between",children:[(0,s.jsx)("span",{className:"px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 text-[10px] font-black uppercase tracking-wider",children:"Activo"}),(0,s.jsx)("span",{className:"text-[10px] font-black text-zinc-300 uppercase tracking-widest",children:a.codigo})]})]})},a.id):null}):(0,s.jsx)("div",{className:"col-span-full py-12 text-center bg-zinc-50 rounded-3xl border-2 border-dashed border-zinc-200",children:(0,s.jsx)("p",{className:"text-zinc-400 font-bold text-sm",children:"No se encontraron coordinadores en esta área."})})})]})]}),S&&(0,s.jsx)(D,{lockedRole:"tecnicos"===k?"TECNICO":"DIRECTOR_DEPENDENCIA",onClose:Y,onSuccess:()=>{H(),Y()},currentUser:E,editUser:M}),O&&(0,s.jsx)(R,{isOpen:!!O,onClose:()=>U(null),onConfirm:()=>{O&&X.mutate(O.id)},userName:O.nombre,userRole:"TECNICO"===O.rol?"Técnico":"Coordinador",hasActivePQRs:Q?.some(e=>e.asignadoA===O.id&&!["RESUELTA","CERRADA"].includes(e.estado)),isDeleting:X.isPending})]})}function T(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsx)("div",{className:"p-8 text-center text-muted-foreground uppercase font-black tracking-widest animate-pulse",children:"Cargando Gestión de Personal..."}),children:(0,s.jsx)(S,{})})}e.s(["default",()=>T],11481)}]);