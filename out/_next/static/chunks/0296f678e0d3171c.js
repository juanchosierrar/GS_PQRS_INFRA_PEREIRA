(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,79002,e=>{"use strict";let t=(0,e.i(75254).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["UserPlus",()=>t],79002)},69638,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],69638)},63209,e=>{"use strict";let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},3116,e=>{"use strict";let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);e.s(["Clock",()=>t],3116)},26514,e=>{"use strict";var t=e.i(34662),a=e.i(77241),s=e.i(81092);function r(e,r){let h,g,b=()=>(0,a.constructFrom)(r?.in,NaN),f=r?.additionalDigits??2,N=function(e){let t,a={},s=e.split(i);if(s.length>2)return a;if(/:/.test(s[0])?t=s[0]:(a.date=s[0],t=s[1],l.test(a.date)&&(a.date=e.split(l)[0],t=e.substr(a.date.length,e.length))),t){let e=n.exec(t);e?(a.time=t.replace(e[1],""),a.timezone=e[1]):a.time=t}return a}(e);if(N.date){let e=function(e,t){let a=RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),s=e.match(a);if(!s)return{year:NaN,restDateString:""};let r=s[1]?parseInt(s[1]):null,i=s[2]?parseInt(s[2]):null;return{year:null===i?r:100*i,restDateString:e.slice((s[1]||s[2]).length)}}(N.date,f);h=function(e,t){var a,s,r,i,l,n,d,o,m,h;if(null===t)return new Date(NaN);let g=e.match(c);if(!g)return new Date(NaN);let b=!!g[4],f=x(g[1]),N=x(g[2])-1,j=x(g[3]),v=x(g[4]),y=x(g[5])-1;if(b){let e,n;return(a=v,s=y,a>=1&&a<=53&&s>=0&&s<=6)?(r=t,i=v,l=y,(e=new Date(0)).setUTCFullYear(r,0,4),n=e.getUTCDay()||7,e.setUTCDate(e.getUTCDate()+((i-1)*7+l+1-n)),e):new Date(NaN)}{let e=new Date(0);return(n=t,d=N,o=j,d>=0&&d<=11&&o>=1&&o<=(p[d]||(u(n)?29:28))&&(m=t,(h=f)>=1&&h<=(u(m)?366:365)))?(e.setUTCFullYear(t,N,Math.max(f,j)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!h||isNaN(+h))return b();let j=+h,v=0;if(N.time&&isNaN(v=function(e){var a,s,r;let i=e.match(d);if(!i)return NaN;let l=m(i[1]),n=m(i[2]),c=m(i[3]);return(a=l,s=n,r=c,24===a?0===s&&0===r:r>=0&&r<60&&s>=0&&s<60&&a>=0&&a<25)?l*t.millisecondsInHour+n*t.millisecondsInMinute+1e3*c:NaN}(N.time)))return b();if(N.timezone){if(isNaN(g=function(e){var a;if("Z"===e)return 0;let s=e.match(o);if(!s)return 0;let r="+"===s[1]?-1:1,i=parseInt(s[2]),l=s[3]&&parseInt(s[3])||0;return(a=l)>=0&&a<=59?r*(i*t.millisecondsInHour+l*t.millisecondsInMinute):NaN}(N.timezone)))return b()}else{let e=new Date(j+v),t=(0,s.toDate)(0,r?.in);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}return(0,s.toDate)(j+v+g,r?.in)}let i=/[T ]/,l=/[Z ]/i,n=/([Z+-].*)$/,c=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,d=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,o=/^([+-])(\d{2})(?::?(\d{2}))?$/;function x(e){return e?parseInt(e):1}function m(e){return e&&parseFloat(e.replace(",","."))||0}let p=[31,null,31,30,31,30,31,31,30,31,30,31];function u(e){return e%400==0||e%4==0&&e%100!=0}e.s(["parseISO",()=>r])},9019,e=>{"use strict";var t=e.i(45110),a=e.i(81515);function s(e,s,i){let[l,n]=(0,t.normalizeDates)(i?.in,e,s),c=r(l,n),d=Math.abs((0,a.differenceInCalendarDays)(l,n));l.setDate(l.getDate()-c*d);let o=Number(r(l,n)===-c),x=c*(d-o);return 0===x?0:x}function r(e,t){let a=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return a<0?-1:a>0?1:a}e.s(["differenceInDays",()=>s])},63488,e=>{"use strict";let t=(0,e.i(75254).default)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);e.s(["Mail",()=>t],63488)},31278,e=>{"use strict";let t=(0,e.i(75254).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],31278)},96640,e=>{"use strict";var t=e.i(43476),a=e.i(7670),s=e.i(19056);function r({children:e,variant:r="default",className:i}){return(0,t.jsx)("div",{className:function(...e){return(0,s.twMerge)((0,a.clsx)(e))}("inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{default:"bg-primary text-primary-foreground hover:bg-primary/80",success:"bg-emerald-500 text-white hover:bg-emerald-600",warning:"bg-amber-500 text-white hover:bg-amber-600",destructive:"bg-rose-500 text-white hover:bg-rose-600",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground"}[r],i),children:e})}e.s(["Badge",()=>r])},95740,e=>{"use strict";let t=(0,e.i(75254).default)("circle-user",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);e.s(["UserCircle",()=>t],95740)},94983,e=>{"use strict";let t=(0,e.i(75254).default)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);e.s(["MessageCircle",()=>t],94983)},1524,e=>{"use strict";var t=e.i(43476),a=e.i(71645),s=e.i(66027),r=e.i(54616),i=e.i(12598),l=e.i(18566),n=e.i(49002),c=e.i(82526),d=e.i(3707),o=e.i(96640),x=e.i(7486),m=e.i(79002),p=e.i(31278),u=e.i(95740),h=e.i(63209),g=e.i(69638);let b=(0,e.i(75254).default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var f=e.i(60289),N=e.i(3116),j=e.i(63488),v=e.i(94983),y=e.i(75157),k=e.i(1851),w=e.i(26514),C=e.i(9019);function z(){let e=(0,l.useParams)(),z=(0,l.useRouter)(),A=e.codigo,[D,M]=(0,a.useState)(""),[E,R]=(0,a.useState)(null),[I,S]=(0,a.useState)(1),[T,U]=(0,a.useState)(null),P=(0,i.useQueryClient)(),F=d.DEPENDENCIAS.find(e=>e.codigo===A),{data:q,isLoading:L}=(0,s.useQuery)({queryKey:["pqrs"],queryFn:()=>n.PQRService.getAll()}),{data:$,isLoading:O}=(0,s.useQuery)({queryKey:["users"],queryFn:()=>c.UserService.getAll()}),V=$||d.USUARIOS,H=(0,r.useMutation)({mutationFn:({pqrId:e,tecnicoId:t})=>n.PQRService.assignTechnician(e,t),onSuccess:(e,t)=>{P.invalidateQueries({queryKey:["pqrs"]});let a=V.find(e=>e.id===t.tecnicoId);a?alert(`‚úÖ Radicado asignado exitosamente.
üì≤ Notificaciones enviadas a ${a.nombre} v\xeda Email y WhatsApp.`):alert("‚úÖ Radicado asignado exitosamente."),R(null),M("")}});if(!F)return(0,t.jsx)("div",{className:"text-center py-20",children:"Dependencia no encontrada"});let B=q?.filter(e=>e.dependenciaId===F.id&&!e.asignadoA&&!["RESUELTA","CERRADA","DEVUELTA","VENCIDA"].includes(e.estado))||[],Q=q?.filter(e=>e.dependenciaId===F.id&&e.asignadoA&&["EN_PROCESO","VISITA_PROGRAMADA"].includes(e.estado))||[],Y=q?.filter(e=>e.dependenciaId===F.id&&("RESUELTA"===e.estado||"CERRADA"===e.estado))||[],K=Math.ceil(B.length/5),W=B.slice((I-1)*5,5*I),G=(()=>{if(!T)return W;switch(T){case"pending":return B.slice((I-1)*5,5*I);case"inProgress":return Q;case"resolved":return Y;case"technicians":return q?.filter(e=>e.dependenciaId===F.id&&e.asignadoA)||[];default:return W}})(),Z=e=>{U(T===e?null:e),S(1)},_=V.filter(e=>e.dependenciaId===F.id&&"TECNICO"===e.rol),J=(e,t)=>{if("RESUELTA"===t||"CERRADA"===t)return{variant:"success",label:"Completado",color:"text-emerald-500"};let a=(0,w.parseISO)(e),s=(0,C.differenceInDays)(a,new Date);return s<=0?{variant:"destructive",label:"Vencido",color:"text-rose-600"}:s<=3?{variant:"destructive",label:`${s} D\xedas`,color:"text-red-600"}:s<=5?{variant:"warning",label:`${s} D\xedas`,color:"text-amber-500"}:s>=10?{variant:"success",label:`${s} D\xedas`,color:"text-emerald-500"}:{variant:"default",label:`${s} D\xedas`,color:"text-blue-500"}};return L||O?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-20 gap-4",children:[(0,t.jsx)(p.Loader2,{className:"h-12 w-12 animate-spin text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground animate-pulse text-sm font-medium",children:"CARGANDO DEPENDENCIA..."})]}):(0,t.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-500",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-6",children:[(0,t.jsx)("button",{onClick:()=>z.push("/admin?tab=dependencias"),className:"bg-white border-2 border-zinc-200 p-3 rounded-2xl hover:bg-zinc-50 transition-all shadow-sm group",title:"Volver al Tablero",children:(0,t.jsx)(f.LayoutDashboard,{className:"h-6 w-6 text-zinc-400 group-hover:text-primary transition-colors"})}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("h2",{className:"text-4xl font-black tracking-tighter text-zinc-900 flex items-center gap-3 uppercase italic",children:[(0,t.jsx)(x.Building2,{className:"h-10 w-10 text-primary not-italic"}),F.nombre]}),(0,t.jsx)("p",{className:"text-muted-foreground font-medium",children:"Gesti√≥n de radicados asignados a esta dependencia."})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 bg-gradient-to-r from-primary/10 to-primary/5 px-6 py-3 rounded-2xl border-2 border-primary/20",children:[(0,t.jsx)("span",{className:"text-xs font-black text-zinc-400 uppercase tracking-widest",children:"C√≥digo:"}),(0,t.jsx)("span",{className:"text-lg font-black text-primary",children:F.codigo})]})]}),(0,t.jsxs)("div",{className:"grid gap-6 md:grid-cols-4",children:[(0,t.jsxs)("button",{onClick:()=>Z("pending"),className:(0,y.cn)("bg-white border-2 border-l-4 border-l-amber-500 rounded-[2rem] p-6 shadow-sm transition-all text-left","pending"===T?"border-amber-500 shadow-xl scale-105 bg-amber-50":"border-zinc-100 hover:shadow-lg hover:scale-[1.02]"),children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 mb-2",children:"Por Asignar"}),(0,t.jsx)("p",{className:"text-5xl font-black text-zinc-900 italic tracking-tighter",children:B.length}),"pending"===T&&(0,t.jsx)("p",{className:"text-[9px] font-black text-amber-600 uppercase tracking-wider mt-2",children:"‚úì Filtro Activo"})]}),(0,t.jsxs)("button",{onClick:()=>Z("inProgress"),className:(0,y.cn)("bg-white border-2 border-l-4 border-l-blue-500 rounded-[2rem] p-6 shadow-sm transition-all text-left","inProgress"===T?"border-blue-500 shadow-xl scale-105 bg-blue-50":"border-zinc-100 hover:shadow-lg hover:scale-[1.02]"),children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 mb-2",children:"En Proceso"}),(0,t.jsx)("p",{className:"text-5xl font-black text-zinc-900 italic tracking-tighter",children:Q.length}),"inProgress"===T&&(0,t.jsx)("p",{className:"text-[9px] font-black text-blue-600 uppercase tracking-wider mt-2",children:"‚úì Filtro Activo"})]}),(0,t.jsxs)("button",{onClick:()=>Z("resolved"),className:(0,y.cn)("bg-white border-2 border-l-4 border-l-emerald-500 rounded-[2rem] p-6 shadow-sm transition-all text-left","resolved"===T?"border-emerald-500 shadow-xl scale-105 bg-emerald-50":"border-zinc-100 hover:shadow-lg hover:scale-[1.02]"),children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 mb-2",children:"Resueltos"}),(0,t.jsx)("p",{className:"text-5xl font-black text-zinc-900 italic tracking-tighter",children:Y.length}),"resolved"===T&&(0,t.jsx)("p",{className:"text-[9px] font-black text-emerald-600 uppercase tracking-wider mt-2",children:"‚úì Filtro Activo"})]}),(0,t.jsxs)("button",{onClick:()=>Z("technicians"),className:(0,y.cn)("bg-white border-2 border-l-4 border-l-purple-500 rounded-[2rem] p-6 shadow-sm transition-all text-left","technicians"===T?"border-purple-500 shadow-xl scale-105 bg-purple-50":"border-zinc-100 hover:shadow-lg hover:scale-[1.02]"),children:[(0,t.jsx)("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 mb-2",children:"T√©cnicos"}),(0,t.jsx)("p",{className:"text-5xl font-black text-zinc-900 italic tracking-tighter",children:_.length}),"technicians"===T&&(0,t.jsx)("p",{className:"text-[9px] font-black text-purple-600 uppercase tracking-wider mt-2",children:"‚úì Filtro Activo"})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-2xl font-black text-zinc-900 uppercase italic flex items-center gap-2",children:[(0,t.jsx)(u.UserCircle,{className:"h-6 w-6 text-purple-500"}),"Equipo T√©cnico y Rendimiento"]}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:_.map(e=>{let a=q?.filter(t=>t.asignadoA===e.id)||[],s=a.filter(e=>"RESUELTA"===e.estado||"CERRADA"===e.estado).length,r=a.length,i=r>0?Math.round(s/r*100):0;return(0,t.jsxs)("button",{onClick:()=>z.push(`/admin/inbox?search=${encodeURIComponent(e.nombre)}`),className:"bg-white border-2 border-zinc-100 rounded-2xl p-5 hover:border-primary/50 hover:shadow-xl transition-all group text-left",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("div",{className:"h-12 w-12 rounded-xl bg-purple-100 flex items-center justify-center text-purple-600 font-bold group-hover:bg-primary group-hover:text-white transition-colors",children:e.nombre.substring(0,2).toUpperCase()}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-bold text-zinc-900 leading-tight group-hover:text-primary transition-colors",children:e.nombre}),(0,t.jsx)("p",{className:"text-[10px] font-black text-zinc-400 tracking-widest uppercase",children:e.cargo})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{className:"text-center p-2 rounded-xl bg-zinc-50",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-zinc-400 uppercase leading-none mb-1",children:"Total"}),(0,t.jsx)("p",{className:"text-lg font-black text-zinc-900",children:r})]}),(0,t.jsxs)("div",{className:"text-center p-2 rounded-xl bg-emerald-50",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-emerald-600 uppercase leading-none mb-1",children:"√âxito"}),(0,t.jsx)("p",{className:"text-lg font-black text-emerald-700",children:s})]}),(0,t.jsxs)("div",{className:"text-center p-2 rounded-xl bg-purple-50",children:[(0,t.jsx)("p",{className:"text-[9px] font-black text-purple-600 uppercase leading-none mb-1",children:"Eficiencia"}),(0,t.jsxs)("p",{className:"text-lg font-black text-purple-700",children:[i,"%"]})]})]})]},e.id)})})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-2xl font-black text-zinc-900 uppercase italic flex items-center gap-2",children:["inProgress"===T&&(0,t.jsx)(N.Clock,{className:"h-6 w-6 text-blue-500"}),"resolved"===T&&(0,t.jsx)(g.CheckCircle,{className:"h-6 w-6 text-emerald-500"}),"technicians"===T&&(0,t.jsx)(u.UserCircle,{className:"h-6 w-6 text-purple-500"}),(!T||"pending"===T)&&(0,t.jsx)(h.AlertCircle,{className:"h-6 w-6 text-amber-500"}),"inProgress"===T&&"Radicados En Proceso","resolved"===T&&"Radicados Resueltos","technicians"===T&&"Radicados Asignados a T√©cnicos",(!T||"pending"===T)&&"Radicados Pendientes de Asignaci√≥n"]}),T&&(0,t.jsx)("button",{onClick:()=>U(null),className:"text-xs font-black text-zinc-400 hover:text-zinc-600 uppercase tracking-widest border-b-2 border-zinc-200 hover:border-zinc-400 transition-colors",children:"Limpiar Filtro"})]}),0===G.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 gap-4 bg-gradient-to-br from-white to-zinc-50 rounded-3xl border-2 border-dashed border-zinc-200",children:[(0,t.jsx)(g.CheckCircle,{className:"h-12 w-12 text-emerald-500"}),(0,t.jsx)("p",{className:"text-lg font-bold text-zinc-400 uppercase tracking-wider",children:"Sin Radicados Pendientes"})]}):(0,t.jsxs)("div",{className:"grid gap-6",children:[G.map(e=>{let a,s=J(e.fechaVencimiento,e.estado);return(0,t.jsx)("div",{className:"bg-white border-2 border-zinc-100 rounded-[2.5rem] p-10 shadow-sm hover:shadow-xl transition-all",children:(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-10",children:[(0,t.jsxs)("button",{onClick:()=>z.push(`/admin/pqr/${e.id}`),className:"flex-1 space-y-6 text-left group",children:[(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,t.jsx)("span",{className:"text-3xl font-black text-primary tracking-tighter group-hover:text-primary/70 transition-colors",children:e.radicado}),(0,t.jsx)(o.Badge,{variant:s.variant,className:"uppercase font-black text-[10px] tracking-widest px-3 py-1",children:s.label})]}),(0,t.jsx)("h4",{className:"text-2xl font-black text-zinc-900 italic leading-tight",children:e.titulo}),(0,t.jsx)("p",{className:"text-sm text-zinc-500 font-medium leading-relaxed mt-3 max-w-2xl",children:e.descripcion})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-8 pt-8 border-t-2 border-zinc-50",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-[10px] font-black text-zinc-300 uppercase tracking-widest",children:"Solicitante"}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.UserCircle,{className:"h-4 w-4 text-primary opacity-50"}),(0,t.jsx)("span",{className:"text-sm font-bold text-zinc-700",children:e.ciudadano.nombre})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-[10px] font-black text-zinc-300 uppercase tracking-widest",children:"Creaci√≥n"}),(0,t.jsx)("span",{className:"text-sm font-bold text-zinc-700",children:(0,k.format)((0,w.parseISO)(e.fechaCreacion),"dd MMM yyyy")})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-[10px] font-black text-zinc-300 uppercase tracking-widest",children:"Plazo Restante"}),(0,t.jsxs)("div",{className:(0,y.cn)("inline-flex items-center gap-1.5 px-3 py-1 rounded-lg border font-black text-xs tracking-tight",(a=(0,C.differenceInDays)((0,w.parseISO)(e.fechaVencimiento),new Date))<=0?"bg-rose-50 text-rose-600 border-rose-100":a<=3?"bg-red-50 text-red-600 border-red-100":a<=5?"bg-amber-50 text-amber-600 border-amber-100":a>=10?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-zinc-50 text-zinc-600 border-zinc-100"),children:[(0,t.jsx)(N.Clock,{className:"h-3 w-3"}),s.label]})]})]})]}),(0,t.jsxs)("div",{className:"lg:w-96 bg-zinc-50/50 rounded-3xl p-8 border-2 border-zinc-100 flex flex-col justify-center",children:[(0,t.jsxs)("h4",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-400 mb-6 flex items-center gap-2 justify-center",children:[(0,t.jsx)(m.UserPlus,{className:"h-4 w-4"}),"Asignaci√≥n de T√©cnico"]}),E===e.id?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("select",{value:D,onChange:e=>M(e.target.value),className:"w-full px-4 py-3 rounded-xl border-2 border-zinc-200 focus:border-primary focus:outline-none font-semibold text-sm",children:[(0,t.jsx)("option",{value:"",children:"Seleccionar t√©cnico..."}),_.map(e=>(0,t.jsxs)("option",{value:e.id,children:[e.nombre," - ",e.cargo]},e.id))]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>{var t;return t=e.id,void(!D?alert("Por favor selecciona un t√©cnico"):H.mutate({pqrId:t,tecnicoId:D}))},disabled:!D||H.isPending,className:"flex-1 bg-gradient-to-r from-primary to-blue-600 text-white px-4 py-3 rounded-xl font-bold text-sm hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:H.isPending?"Asignando...":"Confirmar"}),(0,t.jsx)("button",{onClick:()=>{R(null),M("")},className:"px-4 py-3 rounded-xl border-2 border-zinc-200 font-bold text-sm hover:bg-zinc-50 transition-all",children:"Cancelar"})]})]}):(0,t.jsxs)("button",{onClick:()=>R(e.id),className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 text-white px-6 py-3 rounded-xl font-bold text-sm hover:shadow-xl hover:scale-105 transition-all flex items-center justify-center gap-2",children:[(0,t.jsx)(m.UserPlus,{className:"h-5 w-5"}),"Asignar T√©cnico"]})]})]})},e.id)}),K>1&&(0,t.jsxs)("div",{className:"flex justify-center items-center gap-4 pt-6",children:[(0,t.jsx)("button",{onClick:()=>S(e=>Math.max(1,e-1)),disabled:1===I,className:"px-6 py-2 rounded-xl border-2 border-zinc-100 font-black text-[10px] uppercase hover:bg-zinc-50 disabled:opacity-30 transition-all",children:"Anterior"}),(0,t.jsx)("div",{className:"flex gap-2",children:[...Array(K)].map((e,a)=>(0,t.jsx)("button",{onClick:()=>S(a+1),className:(0,y.cn)("w-8 h-8 rounded-lg font-black text-xs transition-all",I===a+1?"bg-primary text-white":"text-zinc-400 hover:bg-zinc-50"),children:a+1},a))}),(0,t.jsx)("button",{onClick:()=>S(e=>Math.min(K,e+1)),disabled:I===K,className:"px-6 py-2 rounded-xl border-2 border-zinc-100 font-black text-[10px] uppercase hover:bg-zinc-50 disabled:opacity-30 transition-all",children:"Siguiente"})]})]})]}),Q.length>0&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("h3",{className:"text-2xl font-black text-zinc-900 uppercase italic flex items-center gap-2",children:[(0,t.jsx)(b,{className:"h-6 w-6 text-blue-500"}),"En Proceso (",Q.length,")"]}),(0,t.jsx)("div",{className:"grid gap-4",children:Q.map(e=>{let a=V.find(t=>t.id===e.asignadoA),s=J(e.fechaVencimiento,e.estado);return(0,t.jsx)("button",{onClick:()=>z.push(`/admin/pqr/${e.id}`),className:"bg-white border-2 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all text-left group",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-1",children:[(0,t.jsx)("span",{className:"text-lg font-black text-primary group-hover:text-primary/70 transition-colors",children:e.radicado}),(0,t.jsx)(o.Badge,{variant:s.variant,className:"text-xs",children:s.label})]}),(0,t.jsx)("h4",{className:"font-bold text-zinc-900",children:e.titulo}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Asignado a: ",(0,t.jsx)("span",{className:"font-bold text-primary",children:a?.nombre})]}),(0,t.jsxs)("div",{className:"flex gap-1",children:[e.notificadoEmail&&(0,t.jsx)("span",{title:"Email Enviado",children:(0,t.jsx)(j.Mail,{className:"h-3 w-3 text-emerald-500"})}),e.notificadoWhatsapp&&(0,t.jsx)("span",{title:"WhatsApp Enviado",children:(0,t.jsx)(v.MessageCircle,{className:"h-3 w-3 text-emerald-500"})})]})]})]}),(0,t.jsxs)("span",{className:`text-sm font-bold ${s.color}`,children:["Vence: ",(0,k.format)((0,w.parseISO)(e.fechaVencimiento),"dd/MM")]})]})},e.id)})})]})]})}e.s(["default",()=>z],1524)}]);